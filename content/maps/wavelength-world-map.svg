<?xml version="1.0" encoding="UTF-8"?>
<svg width="1024" height="1024" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Font import for consistency with website -->
    <style type="text/css">
      @font-face {
        font-family: 'AnimeAce';
        src: url('../../static/fonts/animeace2_reg.ttf') format('truetype'),
             url('../../static/fonts/animeace2_reg.otf') format('opentype'),
             url('/static/fonts/animeace2_reg.ttf') format('truetype'),
             url('/static/fonts/animeace2_reg.otf') format('opentype');
      }
    </style>
    
    <!-- Arcane parchment texture -->
    <filter id="parchment" x="0%" y="0%" width="100%" height="100%">
      <feTurbulence baseFrequency="0.04" numOctaves="5" result="noise" seed="2"/>
      <feColorMatrix in="noise" type="saturate" values="0"/>
      <feColorMatrix type="matrix" values="0.15 0.15 0.15 0 0.8
                                           0.12 0.12 0.12 0 0.75
                                           0.08 0.08 0.08 0 0.65
                                           0 0 0 1 0"/>
      <feComposite in2="SourceGraphic" operator="multiply"/>
    </filter>
    
    <!-- Mystical ocean with depth -->
    <radialGradient id="oceanGradient" cx="30%" cy="20%" r="80%">
      <stop offset="0%" style="stop-color:#1a4d66;stop-opacity:1" />
      <stop offset="30%" style="stop-color:#2c5f7a;stop-opacity:1" />
      <stop offset="60%" style="stop-color:#1e3a4a;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0d1f2d;stop-opacity:1" />
    </radialGradient>
    
    <!-- Ancient ice with mystical undertones -->
    <radialGradient id="iceGradient" cx="40%" cy="30%" r="90%">
      <stop offset="0%" style="stop-color:#f8fcff;stop-opacity:1" />
      <stop offset="25%" style="stop-color:#e8f4f8;stop-opacity:1" />
      <stop offset="50%" style="stop-color:#d6e8f0;stop-opacity:0.95" />
      <stop offset="75%" style="stop-color:#b8d4e3;stop-opacity:0.9" />
      <stop offset="100%" style="stop-color:#8bb5cc;stop-opacity:0.85" />
    </radialGradient>
    
    <!-- Enchanted Shire with living energy -->
    <radialGradient id="shireGradient" cx="60%" cy="40%" r="120%">
      <stop offset="0%" style="stop-color:#9ccc65;stop-opacity:1" />
      <stop offset="30%" style="stop-color:#7cb342;stop-opacity:0.95" />
      <stop offset="60%" style="stop-color:#689f38;stop-opacity:0.9" />
      <stop offset="100%" style="stop-color:#4a6741;stop-opacity:0.85" />
    </radialGradient>
    
    <!-- Ancient mountain depths -->
    <radialGradient id="mountainGradient" cx="40%" cy="20%" r="80%">
      <stop offset="0%" style="stop-color:#a68b5b;stop-opacity:1" />
      <stop offset="40%" style="stop-color:#8d7053;stop-opacity:0.95" />
      <stop offset="70%" style="stop-color:#6b5d4f;stop-opacity:0.9" />
      <stop offset="100%" style="stop-color:#4a403a;stop-opacity:0.85" />
    </radialGradient>
    
    <!-- Ice Fortress blue gradient -->
    <linearGradient id="iceFortressGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#b3d9ff;stop-opacity:1" />
      <stop offset="30%" style="stop-color:#7db8e8;stop-opacity:1" />
      <stop offset="60%" style="stop-color:#4a90d9;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2c5aa0;stop-opacity:1" />
    </linearGradient>
    
    <!-- Sophisticated terrain patterns -->
    <pattern id="ancientForest" patternUnits="userSpaceOnUse" width="16" height="16">
      <rect width="16" height="16" fill="#3a5d3a"/>
      <circle cx="4" cy="4" r="1.5" fill="#4a7c4a" opacity="0.8"/>
      <circle cx="12" cy="8" r="1" fill="#5a8a5a" opacity="0.6"/>
      <circle cx="8" cy="12" r="1.2" fill="#2d4a2d" opacity="0.9"/>
      <path d="M2,2 Q8,6 14,2 M2,14 Q8,10 14,14" stroke="#1a2d1a" stroke-width="0.5" opacity="0.4"/>
    </pattern>
    
    <pattern id="mysticIce" patternUnits="userSpaceOnUse" width="20" height="20">
      <rect width="20" height="20" fill="#e8f4f8"/>
      <path d="M0,10 L10,0 M10,20 L20,10 M0,10 L10,20 M10,0 L20,10" 
            stroke="#d0e8f0" stroke-width="0.8" opacity="0.6"/>
      <circle cx="5" cy="5" r="0.8" fill="#c0d8e8" opacity="0.4"/>
      <circle cx="15" cy="15" r="0.6" fill="#b0c8d8" opacity="0.3"/>
    </pattern>
    
    <pattern id="eldritchMountains" patternUnits="userSpaceOnUse" width="24" height="24">
      <rect width="24" height="24" fill="#6b5d4f"/>
      <path d="M0,18 L6,12 L12,18 M12,6 L18,0 L24,6" 
            stroke="#5a4d3f" stroke-width="1.5" fill="none"/>
      <circle cx="6" cy="18" r="1" fill="#8d7053" opacity="0.7"/>
      <circle cx="18" cy="6" r="0.8" fill="#a68b5b" opacity="0.5"/>
    </pattern>
    
    <!-- Arcane border decorations -->
    <pattern id="runeBorder" patternUnits="userSpaceOnUse" width="40" height="40">
      <rect width="40" height="40" fill="none"/>
      <path d="M10,5 L15,10 L10,15 L5,10 Z M25,5 L30,10 L25,15 L20,10 Z 
               M5,25 L10,30 L5,35 L0,30 Z M25,25 L30,30 L25,35 L20,30 Z" 
            fill="#8d6e63" opacity="0.6"/>
      <circle cx="20" cy="20" r="2" fill="none" stroke="#6d4c41" stroke-width="0.8"/>
    </pattern>
    
    <!-- Advanced filters for mystical effects -->
    <filter id="arcaneGlow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
      <feOffset in="coloredBlur" dx="0" dy="0" result="offsetBlur"/>
      <feColorMatrix in="offsetBlur" type="matrix" 
                     values="0 0 0 0 0.3
                             0 0 0 0 0.6
                             0 0 0 0 0.9
                             0 0 0 0.8 0"/>
      <feMerge> 
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <filter id="ancientShadow" x="-30%" y="-30%" width="160%" height="160%">
      <feDropShadow dx="3" dy="3" stdDeviation="5" flood-color="#2c1810" flood-opacity="0.6"/>
      <feDropShadow dx="1" dy="1" stdDeviation="2" flood-color="#1a0f08" flood-opacity="0.4"/>
    </filter>
    
    <filter id="mysticalAura" x="-60%" y="-60%" width="220%" height="220%">
      <feGaussianBlur stdDeviation="6" result="aura"/>
      <feColorMatrix in="aura" type="matrix" 
                     values="0 0 0 0 0.4
                             0 0 0 0 0.2
                             0 0 0 0 0.8
                             0 0 0 0.3 0"/>
      <feMerge>
        <feMergeNode in="aura"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
    
    <filter id="weathered" x="0%" y="0%" width="100%" height="100%">
      <feTurbulence baseFrequency="0.02" numOctaves="3" result="weatherNoise"/>
      <feColorMatrix in="weatherNoise" type="saturate" values="0"/>
      <feColorMatrix type="matrix" values="0.1 0.1 0.1 0 0.85
                                           0.08 0.08 0.08 0 0.82
                                           0.06 0.06 0.06 0 0.78
                                           0 0 0 0.15 0"/>
      <feComposite in2="SourceGraphic" operator="overlay"/>
    </filter>
    
    <!-- Natural terrain blending filter -->
    <filter id="terrainBlend" x="-10%" y="-10%" width="120%" height="120%">
      <feTurbulence baseFrequency="0.008" numOctaves="2" result="blendNoise"/>
      <feColorMatrix in="blendNoise" type="saturate" values="0"/>
      <feGaussianBlur in="blendNoise" stdDeviation="8" result="blurredNoise"/>
      <feColorMatrix in="blurredNoise" type="matrix" 
                     values="0.05 0.05 0.05 0 0.9
                             0.04 0.04 0.04 0 0.88
                             0.03 0.03 0.03 0 0.85
                             0 0 0 0.1 0"/>
      <feComposite in2="SourceGraphic" operator="soft-light"/>
    </filter>
    
    <!-- Soft edge blending for coastlines -->
    <filter id="coastBlend" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="4" result="softEdge"/>
      <feOffset in="softEdge" dx="0" dy="0" result="offsetEdge"/>
      <feComposite in="SourceGraphic" in2="offsetEdge" operator="over"/>
    </filter>
    
    <!-- Mystical energy patterns -->
    <pattern id="magicFlow" patternUnits="userSpaceOnUse" width="30" height="30">
      <rect width="30" height="30" fill="none"/>
      <path d="M5,15 Q15,5 25,15 Q15,25 5,15" fill="none" stroke="#4a90e2" 
            stroke-width="0.8" opacity="0.3"/>
      <circle cx="15" cy="15" r="1.5" fill="#6bb6ff" opacity="0.5"/>
    </pattern>
  </defs>

  <style>
    /* Arcane base styling with weathered parchment feel */
    .ocean { fill: url(#oceanGradient); filter: url(#weathered); }
    .ice-ocean { fill: #1e3a4a; opacity: 0.9; filter: url(#coastBlend); }
    .frozen-land { 
      fill: url(#iceGradient); 
      stroke: none;
      filter: url(#terrainBlend);
    }
    .shire-land { 
      fill: url(#shireGradient); 
      stroke: none;
      filter: url(#terrainBlend);
    }
    .wild-land { 
      fill: #c8a882; 
      stroke: none;
      filter: url(#terrainBlend);
    }
    .farmland { 
      fill: #9ccc65; 
      stroke: #689f38;
      stroke-width: 1;
      opacity: 0.7;
      filter: url(#terrainBlend);
    }
    
    /* Mystical geographic features */
    .mountains { 
      fill: url(#eldritchMountains); 
      stroke: none;
      filter: url(#ancientShadow);
    }
    .ice-mountains { 
      fill: #b3e5fc; 
      stroke: #0277bd;
      filter: url(#ancientShadow);
      opacity: 0.9;
    }
    .mountain-peaks { 
      fill: none; 
      stroke: #6b5d4f; 
      stroke-width: 3; 
      stroke-linecap: round; 
      filter: url(#arcaneGlow);
    }
    .forest { 
      fill: url(#ancientForest); 
      opacity: 0.85; 
      filter: url(#weathered);
    }
    .swamp { 
      fill: #4a5c2a; 
      opacity: 0.8; 
      filter: url(#terrainBlend);
    }
    .grassland { 
      fill: #8bc34a; 
      opacity: 0.5; 
      stroke: #689f38; 
      stroke-width: 1; 
      filter: url(#terrainBlend);
    }
    .ice-forest { 
      fill: url(#mysticIce); 
      opacity: 0.8; 
      filter: url(#mysticalAura);
    }
    .river { 
      fill: none; 
      stroke: #3a7399; 
      stroke-width: 4; 
      stroke-linecap: round; 
      opacity: 0.9;
      filter: url(#arcaneGlow);
    }
    .ice-river { 
      fill: none; 
      stroke: #6bb8d3; 
      stroke-width: 3; 
      stroke-linecap: round; 
      opacity: 0.8;
      filter: url(#mysticalAura);
    }
    
    /* Sophisticated location markers */
    .major-city { 
      fill: #8b1538; 
      stroke: #f4e4c1; 
      stroke-width: 2; 
      filter: url(#arcaneGlow);
    }
    .town { 
      fill: #6a1b9a; 
      stroke: #f4e4c1; 
      stroke-width: 1.5; 
      filter: url(#mysticalAura);
    }
    .village { 
      fill: #2e7d32; 
      stroke: #f4e4c1; 
      stroke-width: 1.5;
    }
    .fortress { 
      fill: #37474f; 
      stroke: none; 
      filter: url(#terrainBlend);
    }
    .sanctuary { 
      fill: #e65100; 
      stroke: #fff3e0; 
      stroke-width: 1; 
      filter: url(#arcaneGlow);
    }
    
    /* Arcane special locations */
    .goblin-lair { 
      fill: #1b5e20; 
      stroke: #66bb6a; 
      stroke-width: 2; 
      opacity: 0.8;
    }
    
    /* Enhanced typography with medieval feel */
    .region-label { 
      font-family: 'AnimeAce', Arial, sans-serif; 
      font-size: 22px; 
      font-weight: bold; 
      fill: #3e2723; 
      text-anchor: middle; 
      filter: url(#ancientShadow);
      letter-spacing: 2px;
    }
    .location-label { 
      font-family: 'AnimeAce', Arial, sans-serif; 
      font-size: 16px; 
      fill: #2d1810; 
      text-anchor: middle; 
      font-weight: 600;
      filter: url(#ancientShadow);
    }
    .feature-label { 
      font-family: 'AnimeAce', Arial, sans-serif; 
      font-size: 13px; 
      fill: #4a3728; 
      text-anchor: middle; 
      font-style: italic;
      opacity: 0.9;
    }
    .water-label { 
      font-family: 'AnimeAce', Arial, sans-serif; 
      font-size: 14px; 
      fill: #1e3a4a; 
      text-anchor: middle; 
      font-style: italic;
      opacity: 0.8;
    }
    
    /* Interactive enhancements */
    .clickable { 
      cursor: pointer; 
      transition: all 0.3s ease;
    }
    .clickable:hover { 
      opacity: 0.8; 
      stroke-width: 5; 
      filter: url(#arcaneGlow);
      transform: scale(1.1);
    }
    
    /* Ornate decorative elements */
    .compass-rose { 
      fill: #6d4c41; 
      stroke: #3e2723; 
      stroke-width: 2; 
      filter: url(#ancientShadow);
    }
    .scale-bar { 
      fill: none; 
      stroke: #3e2723; 
      stroke-width: 3;
      filter: url(#ancientShadow);
    }
    .border-decoration {
      fill: url(#runeBorder);
      opacity: 0.6;
    }
    
    /* Mystical animations */
    @keyframes runeGlow {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 0.7; }
    }
    
    .magical-energy {
      animation: runeGlow 4s ease-in-out infinite;
    }
  </style>

  <!-- Parchment background with mystical texture -->
  <rect width="100%" height="100%" fill="#f4e4c1" />
  <rect class="ocean" width="100%" height="100%" />
  
  <!-- Subtle border decoration -->
  <rect x="10" y="10" width="1004" height="8" fill="#8d6e63" opacity="0.2" />
  <rect x="10" y="1006" width="1004" height="8" fill="#8d6e63" opacity="0.2" />
  <rect x="10" y="10" width="8" height="1004" fill="#8d6e63" opacity="0.2" />
  <rect x="1006" y="10" width="8" height="1004" fill="#8d6e63" opacity="0.2" />

  <!-- Far Northern Ice Ocean with mystical depths -->
  <rect class="ice-ocean" x="0" y="0" width="1024" height="140" />
  
  <!-- Large icy lake/fjord near Ice Fortress -->
  <ellipse class="ice-ocean" cx="280" cy="220" rx="120" ry="60" opacity="0.95" />
  <ellipse class="ice-ocean" cx="280" cy="220" rx="90" ry="45" opacity="0.8" />
  
  <!-- Mystical energy currents in ice ocean -->
  <path d="M 0,90 Q 256,70 512,90 T 1024,90" fill="none" stroke="#4a90e2" 
        stroke-width="2" opacity="0.4" class="magical-energy" />
  <path d="M 0,130 Q 256,150 512,130 T 1024,130" fill="none" stroke="#6bb6ff" 
        stroke-width="1.5" opacity="0.3" class="magical-energy" />
        
  <!-- Ice currents in the large icy lake -->
  <path d="M 180,220 Q 230,200 280,220 Q 330,240 380,220" fill="none" stroke="#6bb6ff" 
        stroke-width="1.5" opacity="0.4" class="magical-energy" />

  <!-- NORTHERN FROZEN REALM -->
  <!-- Main ice continent with irregular coastline -->
  <path id="northern-ice-continent" class="frozen-land" 
        d="M 0,100 
           C 150,85 300,75 450,80 
           S 750,70 900,90 
           S 1024,110 1024,130 
           L 1024,250 
           C 900,235 750,240 600,238 
           S 300,232 150,245 
           S 0,255 0,240 Z" />

  <!-- Ice Fortress - Repositioned to western edge of Frozen North -->
  <g id="ice-fortress-complex" transform="translate(-80, 40) scale(0.7)">
    <!-- Subtle runic circle foundation -->
    <circle cx="235" cy="180" r="20" fill="none" stroke="#7aa8bd" stroke-width="1" 
            opacity="0.3" class="magical-energy" />
    
    <!-- Fortress structure with eldritch geometry -->
    <polygon fill="url(#iceFortressGradient)" stroke="#2c5aa0" stroke-width="1" points="205,165 220,145 235,140 250,145 265,165 265,200 205,200" />
    <polygon fill="url(#iceFortressGradient)" stroke="#4a90d9" stroke-width="1" points="215,145 235,125 255,145 245,165 225,165" />
    
    <!-- Mystical ice spires -->
    <polygon fill="url(#iceFortressGradient)" stroke="#7db8e8" stroke-width="1" points="200,140 208,120 216,140" />
    <polygon fill="url(#iceFortressGradient)" stroke="#7db8e8" stroke-width="1" points="262,140 270,120 278,140" />
    
    <!-- Central mystical keep -->
    <polygon fill="url(#iceFortressGradient)" stroke="#2c5aa0" stroke-width="1" points="225,135 235,120 245,135 245,160 225,160" />
    
    <!-- Subtle arcane energy emanations -->
    <circle cx="235" cy="150" r="2" fill="#b3d9ff" opacity="0.6" class="magical-energy" />
    
    <circle class="major-city clickable" cx="235" cy="180" r="6" data-location="ice-fortress" />
  </g>

  <!-- Shield Mountains - Protective shield adjacent to Ice Fortress -->
  <g id="ice-blue-mountains">
    <!-- Large ice mountain peaks forming a protective barrier around the fortress -->
    <path class="ice-mountains" d="M 160,126 L 180,96 L 200,126 Z" fill="#b3e5fc" stroke="#0277bd" stroke-width="2" />
    <path class="ice-mountains" d="M 180,146 L 200,116 L 220,146 Z" fill="#b3e5fc" stroke="#0277bd" stroke-width="2" />
    <path class="ice-mountains" d="M 200,166 L 220,136 L 240,166 Z" fill="#b3e5fc" stroke="#0277bd" stroke-width="2" />
    <path class="ice-mountains" d="M 220,186 L 240,156 L 260,186 Z" fill="#b3e5fc" stroke="#0277bd" stroke-width="2" />
    <path class="ice-mountains" d="M 240,206 L 260,176 L 280,206 Z" fill="#b3e5fc" stroke="#0277bd" stroke-width="2" />
    
    <!-- Secondary smaller ice peaks for natural variation -->
    <path class="ice-mountains" d="M 145,141 L 160,121 L 175,141 Z" fill="#e1f5fe" stroke="#0288d1" stroke-width="1.5" />
    <path class="ice-mountains" d="M 225,101 L 240,81 L 255,101 Z" fill="#e1f5fe" stroke="#0288d1" stroke-width="1.5" />
    
    <!-- Ice crystal formations on peaks -->
    <polygon points="180,96 175,106 185,106" fill="#ffffff" stroke="#81d4fa" stroke-width="1" opacity="0.8" />
    <polygon points="200,116 195,126 205,126" fill="#ffffff" stroke="#81d4fa" stroke-width="1" opacity="0.8" />
    <polygon points="220,136 215,146 225,146" fill="#ffffff" stroke="#81d4fa" stroke-width="1" opacity="0.8" />
    <polygon points="240,156 235,166 245,166" fill="#ffffff" stroke="#81d4fa" stroke-width="1" opacity="0.8" />
    <polygon points="320,126 315,136 325,136" fill="#ffffff" stroke="#81d4fa" stroke-width="1" opacity="0.8" />
    
    <!-- Mountain range label -->
    <text class="feature-label" x="320" y="156" text-anchor="start" font-size="14" font-weight="bold" 
          fill="#0277bd" letter-spacing="1px">Shield Mountains</text>
  </g>

  <!-- Northern ice forests and mystical territories - contained within ice continent -->
  <ellipse class="ice-forest" cx="140" cy="200" rx="35" ry="20" />
  <ellipse class="ice-forest" cx="460" cy="180" rx="45" ry="25" />
  <ellipse class="ice-forest" cx="630" cy="210" rx="30" ry="22" />
  <ellipse class="ice-forest" cx="780" cy="190" rx="40" ry="20" />

  <!-- CENTRAL WILD LANDS -->
  <!-- Large central landmass - wild and untamed, now covering entire southern region -->
  <path id="central-wildlands" class="wild-land"
        d="M 380,360 
           C 400,350 420,355 440,345 
           C 460,355 480,350 500,360 
           C 520,370 540,365 560,375 
           C 580,385 600,380 620,390 
           C 640,400 660,395 680,405 
           C 700,415 720,410 740,420 
           C 760,430 780,425 800,435 
           C 820,445 840,440 860,450 
           C 880,460 900,455 920,465 
           C 940,475 960,470 980,480 
           C 990,490 995,510 990,530 
           C 985,550 1000,570 995,590 
           C 990,610 1005,630 1000,650 
           C 1005,670 1010,690 1015,710 
           C 1020,730 1024,750 1024,770 
           L 1024,1024 
           L 0,1024 
           L 0,750 
           C 50,740 100,730 150,720 
           C 200,710 250,700 300,690 
           C 340,680 360,670 370,650 
           C 375,630 365,610 370,590 
           C 365,570 350,550 355,530 
           C 360,510 375,490 370,470 
           C 365,450 350,430 355,410 
           C 360,390 365,370 350,360 
           C 355,365 365,362 375,361 380,360 Z" />

  <!-- Central mountain ranges -->
  <g id="central-mountains">
    <!-- Mountains between Shire and Eastern Expanse removed -->
    
    <!-- The Great Spine - North-South Continental Mountain Range with Inverted V Symbols -->
    
    <!-- Large mountain peaks using inverted V symbols running north-south -->
    <path class="mountains" d="M 580,420 L 600,390 L 620,420 Z" fill="#8d6e63" stroke="#5d4037" stroke-width="2" />
    <path class="mountains" d="M 585,460 L 605,430 L 625,460 Z" fill="#8d6e63" stroke="#5d4037" stroke-width="2" />
    <path class="mountains" d="M 590,500 L 610,470 L 630,500 Z" fill="#8d6e63" stroke="#5d4037" stroke-width="2" />
    <path class="mountains" d="M 595,540 L 615,510 L 635,540 Z" fill="#8d6e63" stroke="#5d4037" stroke-width="2" />
    <path class="mountains" d="M 600,580 L 620,550 L 640,580 Z" fill="#8d6e63" stroke="#5d4037" stroke-width="2" />
    <path class="mountains" d="M 605,620 L 625,590 L 645,620 Z" fill="#8d6e63" stroke="#5d4037" stroke-width="2" />
    <path class="mountains" d="M 610,660 L 630,630 L 650,660 Z" fill="#8d6e63" stroke="#5d4037" stroke-width="2" />
    <path class="mountains" d="M 615,700 L 635,670 L 655,700 Z" fill="#8d6e63" stroke="#5d4037" stroke-width="2" />
    <path class="mountains" d="M 620,740 L 640,710 L 660,740 Z" fill="#8d6e63" stroke="#5d4037" stroke-width="2" />
    <path class="mountains" d="M 625,780 L 645,750 L 665,780 Z" fill="#8d6e63" stroke="#5d4037" stroke-width="2" />
    <path class="mountains" d="M 630,820 L 650,790 L 670,820 Z" fill="#8d6e63" stroke="#5d4037" stroke-width="2" />
    <path class="mountains" d="M 635,860 L 655,830 L 675,860 Z" fill="#8d6e63" stroke="#5d4037" stroke-width="2" />
    
    <!-- Additional secondary peaks for variety -->
    <path class="mountains" d="M 565,445 L 580,420 L 595,445 Z" fill="#a1887f" stroke="#6d4c41" stroke-width="1.5" />
    <path class="mountains" d="M 610,485 L 625,460 L 640,485 Z" fill="#a1887f" stroke="#6d4c41" stroke-width="1.5" />
    <path class="mountains" d="M 575,525 L 590,500 L 605,525 Z" fill="#a1887f" stroke="#6d4c41" stroke-width="1.5" />
    <path class="mountains" d="M 620,565 L 635,540 L 650,565 Z" fill="#a1887f" stroke="#6d4c41" stroke-width="1.5" />
    <path class="mountains" d="M 585,605 L 600,580 L 615,605 Z" fill="#a1887f" stroke="#6d4c41" stroke-width="1.5" />
    <path class="mountains" d="M 630,645 L 645,620 L 660,645 Z" fill="#a1887f" stroke="#6d4c41" stroke-width="1.5" />
    <path class="mountains" d="M 595,685 L 610,660 L 625,685 Z" fill="#a1887f" stroke="#6d4c41" stroke-width="1.5" />
    <path class="mountains" d="M 640,725 L 655,700 L 670,725 Z" fill="#a1887f" stroke="#6d4c41" stroke-width="1.5" />
    <path class="mountains" d="M 605,765 L 620,740 L 635,765 Z" fill="#a1887f" stroke="#6d4c41" stroke-width="1.5" />
    <path class="mountains" d="M 650,805 L 665,780 L 680,805 Z" fill="#a1887f" stroke="#6d4c41" stroke-width="1.5" />
    
    <!-- Smaller foothills -->
    <path class="mountains" d="M 550,450 L 565,435 L 580,450 Z" fill="#bcaaa4" stroke="#8d6e63" stroke-width="1" />
    <path class="mountains" d="M 645,470 L 660,455 L 675,470 Z" fill="#bcaaa4" stroke="#8d6e63" stroke-width="1" />
    <path class="mountains" d="M 555,510 L 570,495 L 585,510 Z" fill="#bcaaa4" stroke="#8d6e63" stroke-width="1" />
    <path class="mountains" d="M 650,530 L 665,515 L 680,530 Z" fill="#bcaaa4" stroke="#8d6e63" stroke-width="1" />
    <path class="mountains" d="M 560,570 L 575,555 L 590,570 Z" fill="#bcaaa4" stroke="#8d6e63" stroke-width="1" />
    <path class="mountains" d="M 655,590 L 670,575 L 685,590 Z" fill="#bcaaa4" stroke="#8d6e63" stroke-width="1" />
    <path class="mountains" d="M 565,630 L 580,615 L 595,630 Z" fill="#bcaaa4" stroke="#8d6e63" stroke-width="1" />
    <path class="mountains" d="M 660,650 L 675,635 L 690,650 Z" fill="#bcaaa4" stroke="#8d6e63" stroke-width="1" />
    <path class="mountains" d="M 570,690 L 585,675 L 600,690 Z" fill="#bcaaa4" stroke="#8d6e63" stroke-width="1" />
    <path class="mountains" d="M 665,710 L 680,695 L 695,710 Z" fill="#bcaaa4" stroke="#8d6e63" stroke-width="1" />
    <path class="mountains" d="M 575,750 L 590,735 L 605,750 Z" fill="#bcaaa4" stroke="#8d6e63" stroke-width="1" />
    <path class="mountains" d="M 670,770 L 685,755 L 700,770 Z" fill="#bcaaa4" stroke="#8d6e63" stroke-width="1" />
  </g>

  <!-- FOREST BIOMES - Layer 2 (positioned to avoid overlaps) -->
  <g id="forest-biomes">
    <!-- Western rainforest areas - moved inland to avoid ocean overlap -->
    <ellipse class="forest" cx="450" cy="520" rx="55" ry="35" />
    <ellipse class="forest" cx="420" cy="580" rx="45" ry="25" />
    <ellipse class="forest" cx="460" cy="630" rx="45" ry="25" />
    <ellipse class="forest" cx="430" cy="460" rx="50" ry="20" />
    
    <!-- Temperate rain forest - redistributed across western continent -->
    <ellipse class="forest" cx="520" cy="680" rx="35" ry="20" opacity="0.8" />

    <!-- Eastern forests - positioned east of mountain spine, respecting boundaries -->
    <ellipse class="forest" cx="800" cy="480" rx="45" ry="30" />
    <ellipse class="forest" cx="840" cy="550" rx="35" ry="20" />
    <ellipse class="forest" cx="820" cy="600" rx="35" ry="25" />

    <!-- Southern extension forests - contained within land boundaries -->
    <ellipse class="forest" cx="440" cy="800" rx="60" ry="35" />

    <!-- Additional western rainforest - better distributed -->
    <ellipse class="forest" cx="500" cy="720" rx="35" ry="18" />
    <ellipse class="forest" cx="380" cy="550" rx="25" ry="15" />
    
    <!-- Shire forests - include in masked group -->
    <ellipse class="forest" cx="394" cy="372" rx="21" ry="12" opacity="0.6" />
    <ellipse class="forest" cx="360" cy="345" rx="16" ry="10" opacity="0.6" />
    
    <!-- Desolate Island forest - small island biome -->
    <ellipse class="forest" cx="150" cy="560" rx="20" ry="12" opacity="0.7" fill="#3d5a3d" />
  </g>

  <!-- SWAMP BIOMES - Layer 3 (positioned to avoid forests and mountains) -->
  <g id="swamp-biomes">
    <!-- Large swamp beneath Goblin King's Lair -->
    <ellipse class="swamp" cx="720" cy="650" rx="70" ry="45" />
    
    <!-- Eastern swamplands - contained within landmass boundaries -->
    <ellipse class="swamp" cx="820" cy="720" rx="40" ry="25" />
    <ellipse class="swamp" cx="880" cy="680" rx="35" ry="20" />
    
    <!-- Southern swamplands - well within southern landmass -->
    <ellipse class="swamp" cx="600" cy="850" rx="35" ry="25" />
  </g>

  <!-- GRASSLAND BIOMES - Layer 4 (fill remaining open areas) -->
  <g id="grassland-biomes">
    <!-- Eastern grasslands - well-defined dry ecosystem areas -->
    <ellipse class="grassland" cx="900" cy="540" rx="25" ry="18" opacity="0.6" />
    <ellipse class="grassland" cx="810" cy="900" rx="45" ry="30" opacity="0.6" />
  </g>

  <!-- FARMING BIOMES - Agricultural areas around settlements -->
  <g id="farming-biomes">
    <!-- Northern Crossroads farming area -->
    <ellipse class="farmland" cx="620" cy="890" rx="30" ry="20" />
    <ellipse class="farmland" cx="680" cy="910" rx="25" ry="18" />
    <ellipse class="farmland" cx="640" cy="930" rx="20" ry="15" />
    <ellipse class="farmland" cx="670" cy="880" rx="18" ry="12" />
  </g>

  <!-- NORTHWESTERN SHIRE PENINSULA -->
  <!-- The peaceful Shire - now as a peninsula extending into northern waters -->
  <path id="shire-region" class="shire-land"
        d="M 267,340 
           C 257,322 264,304 285,309 
           S 319,304 343,311 
           S 401,316 421,335 
           C 431,366 421,395 401,413 
           S 349,429 336,424 
           S 290,418 284,398 
           S 262,378 267,340 Z" />

  <!-- Mountain range between Shire and Eastern Expanse -->
    <!-- The Shire settlement with mystical hobbit architecture -->

  <!-- The Shire settlement with mystical hobbit architecture -->
  <g id="shire-village">
    <!-- Subtle ley line convergence -->
    <circle cx="336" cy="372" r="10" fill="none" stroke="#7cb342" stroke-width="1" 
            opacity="0.3" class="magical-energy" />
    
    <!-- Village structures with organic curves -->
    <ellipse class="village" cx="336" cy="368" rx="2.6" ry="2.1" />
    <ellipse class="village" cx="348" cy="364" rx="2.1" ry="1.6" />
    <ellipse class="village" cx="328" cy="376" rx="2.1" ry="1.6" />
    <ellipse class="village" cx="340" cy="380" rx="1.6" ry="1.6" />
    <ellipse class="village" cx="332" cy="360" rx="1.6" ry="1.0" />
    
    <!-- Mystical village center -->
    <circle class="major-city clickable" cx="336" cy="372" r="3.6" data-location="the-shire" />
    
    <!-- Ancient standing stones -->
    <rect x="324" y="352" width="1.0" height="4.2" fill="#8d7053" opacity="0.5" />
    <rect x="352" y="356" width="1.0" height="3.1" fill="#8d7053" opacity="0.5" />
    
    <!-- Village label hidden - territory label shown instead -->
    <!-- <text class="location-label" x="336" y="400">The Shire</text> -->
  </g>

  <!-- Shire Sanctuary with sacred geometry -->
    <!-- Shire Sanctuary with sacred geometry -->
  <g id="shire-sanctuary">
    <!-- Subtle sacred circle -->
    <circle cx="275" cy="320" r="6.2" fill="none" stroke="#e65100" stroke-width="1" 
            opacity="0.4" />
    
    <!-- Sacred sanctuary marker -->
    <circle class="sanctuary clickable" cx="275" cy="320" r="3.1" data-location="shire-sanctuary" />
    
    <!-- Sacred grove markers -->
    <circle cx="271" cy="316" r="1.0" fill="#e65100" opacity="0.3" />
    <circle cx="279" cy="324" r="1.0" fill="#e65100" opacity="0.3" />
    
    <text class="location-label" x="275" y="308">Shire Sanctuary</text>
  </g>

  <!-- Goblin territories (hidden) -->
  <g id="goblin-lands">
    <circle class="goblin-lair clickable" cx="150" cy="550" r="4" data-location="goblin-lair" />
    <text class="feature-label" x="150" y="580">Desolate Island</text>
  </g>

  <!-- Goblin King's domain in the eastern swamplands - positioned in main swamp area -->
  <g id="goblin-king-domain">
    <circle class="major-city clickable" cx="720" cy="600" r="6" data-location="goblin-king-lair" 
            fill="#8b0000" stroke="#2e0e0e" stroke-width="2" opacity="0.9" />
    <text class="location-label" x="720" y="625">Goblin King's Lair</text>
  </g>

  <!-- Mystic Druids - Large snowy mountain peak -->
  <g id="mystic-druids">
    <!-- Mountain base -->
    <polygon points="800,820 840,760 880,820" fill="#8d6e63" opacity="0.9" />
    <!-- Snow-covered upper slopes -->
    <polygon points="815,795 840,760 865,795" fill="#f5f5f5" opacity="0.95" />
    <!-- Peak snow cap -->
    <polygon points="830,775 840,760 850,775" fill="#ffffff" opacity="1" />
    
    <!-- Forest biome underneath location marker -->
    <ellipse cx="895" cy="835" rx="25" ry="15" fill="#4a7c59" opacity="0.8" />
    <circle cx="885" cy="830" r="3" fill="#2e5233" opacity="0.9" />
    <circle cx="905" cy="838" r="2.5" fill="#2e5233" opacity="0.9" />
    <circle cx="890" cy="842" r="2" fill="#2e5233" opacity="0.9" />
    
    <!-- Location marker (beside mountain) -->
    <circle class="major-city clickable" cx="895" cy="800" r="4" data-location="mystic-druids" 
            fill="#6a1b9a" stroke="#ffffff" stroke-width="2" opacity="1" />
    <text class="location-label" x="895" y="870">Mystic Druids</text>
  </g>

  <!-- Port Gamble - coastal trading city on western side, facing Desolate Island -->
  <g id="port-gamble">
    <!-- Harbor structures -->
    <rect x="345" y="535" width="10" height="15" fill="#6d4c41" />
    <rect x="355" y="530" width="8" height="12" fill="#6d4c41" />
    
    <!-- Pier extending toward water -->
    <rect x="325" y="545" width="20" height="4" fill="#5d4037" />
    <rect x="320" y="550" width="15" height="3" fill="#5d4037" />
    
    <!-- Trading post buildings -->
    <rect x="360" y="535" width="12" height="8" fill="#6d4c41" />
    <polygon points="360,535 366,530 372,535" fill="#4e342e" />
    
    <!-- City marker -->
    <circle class="major-city clickable" cx="350" cy="540" r="7" data-location="port-gamble" 
            fill="#2e7d32" stroke="#1b5e20" stroke-width="2" opacity="0.9" />
    <text class="location-label" x="350" y="525">Port Gamble</text>
  </g>

  <!-- Northern Crossroads - Farming community at southern tip of mountain range -->
  <g id="northern-crossroads">
    <!-- Farm buildings -->
    <rect x="650" y="895" width="8" height="12" fill="#8d6e63" />
    <polygon points="650,895 654,890 658,895" fill="#5d4037" />
    <rect x="655" y="900" width="6" height="8" fill="#6d4c41" />
    <polygon points="655,900 658,897 661,900" fill="#4e342e" />
    
    <!-- Crossroads intersection -->
    <path d="M 630,905 L 680,905 M 650,885 L 650,925" stroke="#8d6e63" stroke-width="3" opacity="0.6" />
    
    <!-- Settlement marker -->
    <circle class="minor-settlement clickable" cx="650" cy="905" r="5" data-location="northern-crossroads" 
            fill="#8bc34a" stroke="#689f38" stroke-width="2" opacity="0.9" />
    <text class="location-label" x="650" y="880">Northern Crossroads</text>
  </g>

  <!-- EASTERN WILD ISLANDS -->

  <!-- ORNATE COMPASS ROSE -->
  <g id="compass" transform="translate(950,80)">
    <!-- Outer decorative ring -->
    <circle class="compass-rose" cx="0" cy="0" r="35" fill="none" stroke="#6d4c41" stroke-width="3" />
    <circle class="compass-rose" cx="0" cy="0" r="30" fill="none" stroke="#8d6e63" stroke-width="1.5" />
    
    <!-- Inner mystical design -->
    <circle cx="0" cy="0" r="25" fill="#f4e4c1" opacity="0.8" />
    
    <!-- Ornate directional points -->
    <path class="compass-rose" d="M 0,-28 L 8,-15 L 0,-8 L -8,-15 Z" />
    <path class="compass-rose" d="M 28,0 L 15,8 L 8,0 L 15,-8 Z" />
    <path class="compass-rose" d="M 0,28 L 8,15 L 0,8 L -8,15 Z" />
    <path class="compass-rose" d="M -28,0 L -15,8 L -8,0 L -15,-8 Z" />
    
    <!-- Secondary points -->
    <path class="compass-rose" d="M 20,-20 L 12,-12 L 8,-16 Z" opacity="0.7" />
    <path class="compass-rose" d="M 20,20 L 12,12 L 16,8 Z" opacity="0.7" />
    <path class="compass-rose" d="M -20,20 L -12,12 L -8,16 Z" opacity="0.7" />
    <path class="compass-rose" d="M -20,-20 L -12,-12 L -16,-8 Z" opacity="0.7" />
    
    <!-- Central mystical symbol -->
    <circle cx="0" cy="0" r="5" fill="#6d4c41" />
    <circle cx="0" cy="0" r="3" fill="#f4e4c1" />
    
    <!-- Directional labels with flourishes -->
    <text class="feature-label" x="0" y="-42" text-anchor="middle" font-size="14" font-weight="bold">N</text>
    <text class="feature-label" x="42" y="5" text-anchor="middle" font-size="14" font-weight="bold">E</text>
    <text class="feature-label" x="0" y="50" text-anchor="middle" font-size="14" font-weight="bold">S</text>
    <text class="feature-label" x="-42" y="5" text-anchor="middle" font-size="14" font-weight="bold">W</text>
  </g>

  <!-- ENHANCED SCALE BAR -->
  <g id="scale" transform="translate(800,920)">
    <!-- Decorative base with better visibility and more space -->
    <rect x="-40" y="-35" width="250" height="70" fill="#f4e4c1" stroke="#6d4c41" 
          stroke-width="3" rx="8" opacity="0.95" filter="url(#ancientShadow)" />
    
    <!-- Scale title -->
    <text class="feature-label" x="85" y="-20" text-anchor="middle" font-weight="bold" font-size="16" fill="#2d1810">Scale</text>
    
    <!-- Scale markings with enhanced visibility -->
    <line class="scale-bar" x1="0" y1="0" x2="160" y2="0" stroke="#6d4c41" stroke-width="4" />
    <line class="scale-bar" x1="0" y1="-12" x2="0" y2="12" stroke="#6d4c41" stroke-width="4" />
    <line class="scale-bar" x1="40" y1="-8" x2="40" y2="8" stroke="#6d4c41" stroke-width="3" />
    <line class="scale-bar" x1="80" y1="-8" x2="80" y2="8" stroke="#6d4c41" stroke-width="3" />
    <line class="scale-bar" x1="120" y1="-8" x2="120" y2="8" stroke="#6d4c41" stroke-width="3" />
    <line class="scale-bar" x1="160" y1="-12" x2="160" y2="12" stroke="#6d4c41" stroke-width="4" />
    
    <!-- Ornate end decorations -->
    <circle cx="0" cy="0" r="5" fill="#6d4c41" />
    <circle cx="160" cy="0" r="5" fill="#6d4c41" />
    
    <!-- Clear, legible labels with proper spacing -->
    <text class="feature-label" x="80" y="-8" text-anchor="middle" font-weight="bold" font-size="14" fill="#2d1810">160 Leagues</text>
    <text class="feature-label" x="0" y="26" text-anchor="middle" font-size="14" fill="#2d1810">0</text>
    <text class="feature-label" x="40" y="26" text-anchor="middle" font-size="14" fill="#2d1810">40</text>
    <text class="feature-label" x="80" y="26" text-anchor="middle" font-size="14" fill="#2d1810">80</text>
    <text class="feature-label" x="120" y="26" text-anchor="middle" font-size="14" fill="#2d1810">120</text>
    <text class="feature-label" x="160" y="26" text-anchor="middle" font-size="14" fill="#2d1810">160</text>
  </g>

  <!-- REGION LABELS -->
  <text class="region-label" x="650" y="180" text-anchor="middle">The Frozen North</text>
  <text class="region-label" x="450" y="480" text-anchor="middle">Western Rainlands</text>
  <text class="region-label" x="780" y="520" text-anchor="middle">Eastern Drylands</text>
  <text class="region-label" x="350" y="385" text-anchor="middle">The Shire</text>
  <text class="region-label" x="512" y="980" text-anchor="middle" opacity="0.8">The Southern Reach ‚Üì</text>
  
  <!-- MAJOR LOCATION LABELS (rendered on top) -->
  <text class="location-label" x="155" y="200" text-anchor="middle">Ice Fortress</text>
  
  <!-- MOUNTAIN RANGE LABEL -->
  <text class="feature-label" x="620" y="640" text-anchor="middle" font-size="24" font-weight="bold" fill="#3e2723" letter-spacing="3px">The Great Spine</text>
  
  <!-- WATER LABELS -->
  <text class="water-label" x="150" y="50" text-anchor="middle">Ice Sea</text>
  <text class="water-label" x="700" y="300" text-anchor="middle">Northern Waters</text>
  <text class="water-label" x="950" y="400" text-anchor="middle">Eastern Sea</text>

  <!-- MAJESTIC TITLE CARTOUCHE -->
  <g id="title" transform="translate(512,50)">
    <!-- Ornate title frame with mystical elements -->
    <rect x="-230" y="-30" width="460" height="60" fill="#f4e4c1" stroke="#6d4c41" 
          stroke-width="4" rx="12" filter="url(#ancientShadow)" />
    
    <text class="region-label" x="0" y="10" text-anchor="middle" font-size="28" letter-spacing="3px">
      The World of Wavelength
    </text>
  </g>

  <!-- Ancient mystical symbols scattered across the map -->
  <g id="mystical-symbols" opacity="0.3">
    <text x="800" y="200" fill="#6d4c41" font-size="12">‚ö°</text>
    <text x="150" y="400" fill="#6d4c41" font-size="10">‚ùÑ</text>
    <text x="600" y="800" fill="#6d4c41" font-size="11">üåø</text>
    <text x="900" y="600" fill="#6d4c41" font-size="9">‚≠ê</text>
    <text x="300" y="300" fill="#6d4c41" font-size="8">‚óà</text>
  </g>

  <!-- TERRAIN LEGEND -->
  <g id="terrain-legend">
    <!-- Legend background -->
    <rect x="20" y="800" width="180" height="200" 
          fill="#f4e4c1" 
          stroke="#6d4c41" 
          stroke-width="3" 
          rx="8" 
          opacity="0.95" 
          filter="url(#ancientShadow)" />
    
    <!-- Legend title -->
    <text x="110" y="825" text-anchor="middle" 
          fill="#2d1810" 
          font-family="AnimeAce, serif" 
          font-size="16" 
          font-weight="bold">TERRAIN LEGEND</text>
    
    <!-- Ocean -->
    <rect x="30" y="840" width="15" height="12" class="ocean" />
    <text x="50" y="850" fill="#2d1810" font-family="AnimeAce, serif" font-size="12">Ocean</text>
    
    <!-- Ice Ocean -->
    <rect x="30" y="860" width="15" height="12" class="ice-ocean" />
    <text x="50" y="870" fill="#2d1810" font-family="AnimeAce, serif" font-size="12">Frozen Seas</text>
    
    <!-- Frozen Land -->
    <rect x="30" y="880" width="15" height="12" class="frozen-land" />
    <text x="50" y="890" fill="#2d1810" font-family="AnimeAce, serif" font-size="12">Frozen Lands</text>
    
    <!-- Grasslands -->
    <rect x="30" y="900" width="15" height="12" class="shire-land" />
    <text x="50" y="910" fill="#2d1810" font-family="AnimeAce, serif" font-size="12">Grasslands</text>
    
    <!-- Wild Land -->
    <rect x="30" y="920" width="15" height="12" class="wild-land" />
    <text x="50" y="930" fill="#2d1810" font-family="AnimeAce, serif" font-size="12">Wild Lands</text>
    
    <!-- Farmland -->
    <ellipse cx="37" cy="941" rx="7" ry="5" class="farmland" />
    <text x="50" y="945" fill="#2d1810" font-family="AnimeAce, serif" font-size="12">Farmland</text>
    
    <!-- Swamp -->
    <ellipse cx="37" cy="956" rx="7" ry="5" class="swamp" />
    <text x="50" y="960" fill="#2d1810" font-family="AnimeAce, serif" font-size="12">Swampland</text>
    
    <!-- Forest -->
    <ellipse cx="37" cy="971" rx="7" ry="5" class="forest" />
    <text x="50" y="975" fill="#2d1810" font-family="AnimeAce, serif" font-size="12">Forest</text>
    
    <!-- Mountains -->
    <path d="M 30,990 L 37,980 L 44,990" class="mountains" stroke-width="2" fill="none" />
    <text x="50" y="987" fill="#2d1810" font-family="AnimeAce, serif" font-size="12">Mountains</text>
  </g>

</svg>